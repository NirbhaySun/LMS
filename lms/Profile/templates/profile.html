{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>User Profile</title>
  <link rel="stylesheet" href="{% static 'homestyle.css' %}" />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet" />
  <style>
    .profile-card {
      background: #f7faff;
      border: 2px solid #b3d1f7;
      border-radius: 24px;
      box-shadow: 0 2px 12px rgba(52, 152, 255, 0.08);
      padding: 2.5rem 2.5rem 2rem 2.5rem;
      max-width: 370px;
      margin: 2.5rem auto 0 auto;
      text-align: center;
      position: relative;
    }
    .profile-card .checkmark {
      position: absolute;
      top: 18px;
      right: 18px;
      background: #fff;
      border-radius: 50%;
      border: 2px solid #87ceeb;
      width: 38px;
      height: 38px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 1px 4px rgba(52, 152, 255, 0.10);
    }
    .profile-card .checkmark svg {
      width: 22px;
      height: 22px;
      color: #3498ff;
    }
    .profile-card .profile-pic {
      height: 90px;
      width: 90px;
      border-radius: 50%;
      margin-bottom: 1rem;
      object-fit: cover;
      border: 3px solid #87ceeb;
      background: #fff;
    }
    .edit-profile-btn {
      display: inline-block;
      margin-bottom: 1.2rem;
      padding: 0.5rem 1.2rem;
      background: #3498ff;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
      text-decoration: none;
    }
    .edit-profile-btn:hover {
      background: #87ceeb;
      color: #2d3e50;
    }
    .profile-card h2 {
      font-family: 'Dancing Script', cursive;
      font-size: 2rem;
      margin-bottom: 1.2rem;
      color: #3498ff;
    }
    .profile-card .profile-info {
      text-align: left;
      margin: 0 auto 1.5rem auto;
      max-width: 260px;
    }
    .profile-card .profile-info p {
      margin: 0.3rem 0;
      font-size: 1.05rem;
    }
    .profile-card h3 {
      margin-top: 1.5rem;
      color: #3498ff;
      text-align: left;
      font-size: 1.1rem;
    }
    .profile-card ul.book-list {
      text-align: left;
      margin: 0 0 1.2rem 0;
      padding-left: 1.2rem;
    }
    .profile-card ul.book-list li {
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-left">
      <a href="{% url 'home' %}" class="logo">LibSys</a>
    </div>
    <div class="nav-right">
      <a href="{% url 'profile' %}">Profile</a>
      <form method="post" action="{% url 'logout' %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit" class="logout-btn">Logout</button>
      </form>
    </div>
  </nav>
  <div class="container">
    <div class="profile-card">
      <a href="{% url 'profile_edit' %}" class="edit-profile-btn">Edit Profile</a>
      <h2>User Profile</h2>
      {% if user.profile_pic %}
        <img src="{{ user.profile_pic.url }}" alt="Profile Picture" class="profile-pic" />
      {% endif %}
      <div class="profile-info">
        <p><strong>User ID:</strong> {{ user.userID }}</p>
        <p><strong>Username:</strong> {{ user.username }}</p>
        <p><strong>Date of Birth:</strong> {{ user.userdob|default:'N/A' }}</p>
      </div>
      <h3>Book Dues (Borrowed Books):</h3>
      {% if bookdues %}
        <ul class="book-list">
          {% for book in bookdues %}
            <li>
              {% if book.book_photo %}
                <img src="{{ book.book_photo.url }}" alt="{{ book.book_name }}" style="height:40px;vertical-align:middle;margin-right:10px;" />
              {% endif %}
              <strong>{{ book.book_name }}</strong> by {{ book.book_author }}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No books currently borrowed.</p>
      {% endif %}
      <h3>Wishlist:</h3>
      {% if wishlist %}
        <ul class="book-list">
          {% for book in wishlist %}
            <li>
              {% if book.book_photo %}
                <img src="{{ book.book_photo.url }}" alt="{{ book.book_name }}" style="height:40px;vertical-align:middle;margin-right:10px;" />
              {% endif %}
              <strong>{{ book.book_name }}</strong> by {{ book.book_author }}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No books in wishlist.</p>
      {% endif %}
    </div>
  </div>
</body>
</html> 